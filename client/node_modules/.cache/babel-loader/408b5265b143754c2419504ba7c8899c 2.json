{"ast":null,"code":"import React from 'react';\nimport ReactDOM from 'react-dom';\nconst apiKey = 'iQ8pmLEK2Wg8SRHRxvyuCf64FT9gNDJgVZruzws5XGLHpNl3X3reTymr9964LJQR1MqsX8JY0katxpNhDi2gJsPRtq7WEoJvYg2VFd-yYd7jsHFg2XuUAW-PnZrFXnYx'; //enter your own yelp api key\n\nconst Yelp = {\n  search(term, location) {\n    //window.location.assign('localhost:3000/search')\n    return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}`, {\n      headers: {\n        Authorization: `Bearer ${apiKey}`\n      }\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error(response.statusText);\n      }\n    }).then(jsonResponse => {\n      if (jsonResponse.businesses) {\n        return jsonResponse.businesses.map(business => ({\n          id: business.id,\n          phone: business.phone,\n          name: business.name,\n          url: business.url,\n          imageUrl: business.image_url,\n          city: business.location.city,\n          state: business.location.state,\n          zipCode: business.location.zip_code,\n          country: business.location.country,\n          address: business.location.address1,\n          category: business.categories[0].title,\n          rating: business.rating,\n          reviewCount: business.review_count\n        }));\n      } else {\n        //ReactDOM.render(<h1> empty </h1>,document.getElementById('app'));\n        return [];\n      }\n    });\n  }\n\n};\nexport default Yelp;","map":{"version":3,"sources":["/Users/danielliu/Documents/ReactProjects/food-reviewer/src/util/Yelp.js"],"names":["React","ReactDOM","apiKey","Yelp","search","term","location","fetch","headers","Authorization","then","response","ok","json","Error","statusText","jsonResponse","businesses","map","business","id","phone","name","url","imageUrl","image_url","city","state","zipCode","zip_code","country","address","address1","category","categories","title","rating","reviewCount","review_count"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,MAAMC,MAAM,GAAG,kIAAf,C,CAAmJ;;AAGnJ,MAAMC,IAAI,GAAG;AACTC,EAAAA,MAAM,CAACC,IAAD,EAAOC,QAAP,EAAiB;AACnB;AACA,WAAOC,KAAK,CAAE,sFAAqFF,IAAK,aAAYC,QAAS,EAAjH,EACV;AAACE,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAG,UAASP,MAAO;AAAjC;AAAV,KADU,CAAL,CAENQ,IAFM,CAEDC,QAAQ,IAAI;AACd,UAAGA,QAAQ,CAACC,EAAZ,EAAgB;AACZ,eAAOD,QAAQ,CAACE,IAAT,EAAP;AACH,OAFD,MAEO;AACH,cAAM,IAAIC,KAAJ,CAAUH,QAAQ,CAACI,UAAnB,CAAN;AACH;AACJ,KARM,EASNL,IATM,CASDM,YAAY,IAAI;AAClB,UAAGA,YAAY,CAACC,UAAhB,EAA4B;AACxB,eAAOD,YAAY,CAACC,UAAb,CAAwBC,GAAxB,CAA4BC,QAAQ,KACvC;AAACC,UAAAA,EAAE,EAAED,QAAQ,CAACC,EAAd;AACIC,UAAAA,KAAK,EAAEF,QAAQ,CAACE,KADpB;AAEIC,UAAAA,IAAI,EAAEH,QAAQ,CAACG,IAFnB;AAGIC,UAAAA,GAAG,EAAEJ,QAAQ,CAACI,GAHlB;AAIIC,UAAAA,QAAQ,EAAEL,QAAQ,CAACM,SAJvB;AAKIC,UAAAA,IAAI,EAAEP,QAAQ,CAACb,QAAT,CAAkBoB,IAL5B;AAMIC,UAAAA,KAAK,EAAER,QAAQ,CAACb,QAAT,CAAkBqB,KAN7B;AAOIC,UAAAA,OAAO,EAAET,QAAQ,CAACb,QAAT,CAAkBuB,QAP/B;AAQIC,UAAAA,OAAO,EAAEX,QAAQ,CAACb,QAAT,CAAkBwB,OAR/B;AASIC,UAAAA,OAAO,EAAEZ,QAAQ,CAACb,QAAT,CAAkB0B,QAT/B;AAUIC,UAAAA,QAAQ,EAAEd,QAAQ,CAACe,UAAT,CAAoB,CAApB,EAAuBC,KAVrC;AAWIC,UAAAA,MAAM,EAAEjB,QAAQ,CAACiB,MAXrB;AAYIC,UAAAA,WAAW,EAAElB,QAAQ,CAACmB;AAZ1B,SADuC,CAApC,CAAP;AAeC,OAhBL,MAgBW;AACP;AACA,eAAO,EAAP;AACH;AACJ,KA9BM,CAAP;AAgCH;;AAnCQ,CAAb;AAuCA,eAAenC,IAAf","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nconst apiKey = 'iQ8pmLEK2Wg8SRHRxvyuCf64FT9gNDJgVZruzws5XGLHpNl3X3reTymr9964LJQR1MqsX8JY0katxpNhDi2gJsPRtq7WEoJvYg2VFd-yYd7jsHFg2XuUAW-PnZrFXnYx'; //enter your own yelp api key\n\n\nconst Yelp = {\n    search(term, location) {\n        //window.location.assign('localhost:3000/search')\n        return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}`\n        , {headers: {Authorization: `Bearer ${apiKey}`}})\n        .then(response => {\n            if(response.ok) {\n                return response.json();\n            } else {\n                throw new Error(response.statusText);\n            }\n        })\n        .then(jsonResponse => {\n            if(jsonResponse.businesses) {\n                return jsonResponse.businesses.map(business => (\n                    {id: business.id,\n                        phone: business.phone,\n                        name: business.name,\n                        url: business.url,\n                        imageUrl: business.image_url,\n                        city: business.location.city,\n                        state: business.location.state,\n                        zipCode: business.location.zip_code,\n                        country: business.location.country,\n                        address: business.location.address1,\n                        category: business.categories[0].title,\n                        rating: business.rating,\n                        reviewCount: business.review_count\n                    }));\n                } else {\n                //ReactDOM.render(<h1> empty </h1>,document.getElementById('app'));\n                return [];\n            }\n        });\n\n    }\n\n}\n\nexport default Yelp;\n"]},"metadata":{},"sourceType":"module"}