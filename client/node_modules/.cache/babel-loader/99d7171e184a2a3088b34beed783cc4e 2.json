{"ast":null,"code":"var _jsxFileName = \"/Users/danielliu/Documents/ReactProjects/food-reviewer/src/Components/SearchResults/SearchResults.js\";\nimport React from 'react';\nimport './SearchResults.css';\nimport Main from '../Main/Main';\nimport RestaurantList from '../RestaurantList/RestaurantList';\nimport Yelp from '../../util/Yelp';\n\nclass SearchResults extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      restaurants: []\n    };\n  }\n\n  searchYelp(term, location) {\n    Yelp.search(term, location).then(restaurants => {\n      this.setState({\n        restaurants: restaurants\n      });\n    });\n  }\n\n  render() {\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const term = urlParams.get('term');\n    const location = urlParams.get('location');\n    this.searchYelp(term, location);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Search-results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }\n    }, \" search results page !\"), /*#__PURE__*/React.createElement(Main, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"load\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 35\n      }\n    }, \"loading\"), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"search-contents\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(RestaurantList, {\n      restaurants: this.state.restaurants,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\ndocument.onreadystatechange = function () {\n  //when contents have loaded, hide loading gif\n  var state = document.readyState;\n\n  if (state == 'complete') {\n    document.getElementById('interactive');\n    document.getElementById('load').style.visibility = \"hidden\";\n  }\n};\n\nexport default SearchResults;","map":{"version":3,"sources":["/Users/danielliu/Documents/ReactProjects/food-reviewer/src/Components/SearchResults/SearchResults.js"],"names":["React","Main","RestaurantList","Yelp","SearchResults","Component","constructor","props","state","restaurants","searchYelp","term","location","search","then","setState","render","queryString","window","urlParams","URLSearchParams","get","document","onreadystatechange","readyState","getElementById","style","visibility"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,qBAAP;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,IAAP,MAAiB,iBAAjB;;AAEA,MAAMC,aAAN,SAA4BJ,KAAK,CAACK,SAAlC,CAA4C;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAE;AADJ,KAAb;AAGH;;AACDC,EAAAA,UAAU,CAACC,IAAD,EAAOC,QAAP,EAAiB;AACvBT,IAAAA,IAAI,CAACU,MAAL,CAAYF,IAAZ,EAAkBC,QAAlB,EAA4BE,IAA5B,CAAiCL,WAAW,IAAI;AAC5C,WAAKM,QAAL,CAAc;AAACN,QAAAA,WAAW,EAAEA;AAAd,OAAd;AACH,KAFD;AAGH;;AACDO,EAAAA,MAAM,GAAG;AACL,UAAMC,WAAW,GAAGC,MAAM,CAACN,QAAP,CAAgBC,MAApC;AACA,UAAMM,SAAS,GAAG,IAAIC,eAAJ,CAAoBH,WAApB,CAAlB;AACA,UAAMN,IAAI,GAAGQ,SAAS,CAACE,GAAV,CAAc,MAAd,CAAb;AACA,UAAMT,QAAQ,GAAGO,SAAS,CAACE,GAAV,CAAc,UAAd,CAAjB;AACA,SAAKX,UAAL,CAAgBC,IAAhB,EAAsBC,QAAtB;AACA,wBACI;AAAK,MAAA,SAAS,EAAG,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,eAEI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAK,MAAA,EAAE,EAAG,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAlB,MAHJ,eAII;AAAK,MAAA,EAAE,EAAG,iBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,cAAD;AAAgB,MAAA,WAAW,EAAI,KAAKJ,KAAL,CAAWC,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CADJ;AAUH;;AA5BuC;;AAgC5Ca,QAAQ,CAACC,kBAAT,GAA8B,YAAY;AAAE;AACxC,MAAIf,KAAK,GAAGc,QAAQ,CAACE,UAArB;;AACA,MAAIhB,KAAK,IAAI,UAAb,EAAyB;AAClBc,IAAAA,QAAQ,CAACG,cAAT,CAAwB,aAAxB;AACAH,IAAAA,QAAQ,CAACG,cAAT,CAAwB,MAAxB,EAAgCC,KAAhC,CAAsCC,UAAtC,GAAiD,QAAjD;AACN;AACJ,CAND;;AAQA,eAAevB,aAAf","sourcesContent":["import React from 'react';\nimport './SearchResults.css';\nimport Main from '../Main/Main';\nimport RestaurantList from '../RestaurantList/RestaurantList';\nimport Yelp from '../../util/Yelp';\n\nclass SearchResults extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            restaurants: []\n        };\n    }\n    searchYelp(term, location) {\n        Yelp.search(term, location).then(restaurants => {\n            this.setState({restaurants: restaurants});\n        });\n    }\n    render() {\n        const queryString = window.location.search;\n        const urlParams = new URLSearchParams(queryString);\n        const term = urlParams.get('term');\n        const location = urlParams.get('location');\n        this.searchYelp(term, location);\n        return (\n            <div className = \"Search-results\">\n                <h1> search results page !</h1>\n                <Main />\n                <div id = \"load\"> <h1>loading</h1> </div> \n                <div id = \"search-contents\">\n                    <RestaurantList restaurants = {this.state.restaurants}/>\n                </div>\n            </div>\n        );\n    }\n}\n\n\ndocument.onreadystatechange = function () { //when contents have loaded, hide loading gif\n    var state = document.readyState\n    if (state == 'complete') {\n           document.getElementById('interactive');\n           document.getElementById('load').style.visibility=\"hidden\";\n    }\n}\n\nexport default SearchResults;"]},"metadata":{},"sourceType":"module"}