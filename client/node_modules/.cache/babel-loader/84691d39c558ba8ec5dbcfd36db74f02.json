{"ast":null,"code":"var apiKey='iQ8pmLEK2Wg8SRHRxvyuCf64FT9gNDJgVZruzws5XGLHpNl3X3reTymr9964LJQR1MqsX8JY0katxpNhDi2gJsPRtq7WEoJvYg2VFd-yYd7jsHFg2XuUAW-PnZrFXnYx';//enter your own yelp api key\nfunction handleErrors(response){if(!response.ok){throw Error(response.statusText);}return response.json();}var Yelp={search:function search(term,location){return fetch(\"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=\".concat(term,\"&location=\").concat(location),{headers:{Authorization:\"Bearer \".concat(apiKey)}}).then(handleErrors).then(function(jsonResponse){if(jsonResponse.businesses){return jsonResponse.businesses.map(function(business){return{id:business.id,phone:business.phone,name:business.name,url:business.url,imageUrl:business.image_url,city:business.location.city,state:business.location.state,zipCode:business.location.zip_code,country:business.location.country,address:business.location.address1,category:business.categories[0].title,rating:business.rating,reviewCount:business.review_count};});}else{return[];}}).catch(function(error){console.log(error);return[];});},searchById:function searchById(id){return fetch(\"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/\".concat(id),{headers:{Authorization:\"Bearer \".concat(apiKey)}}).then(handleErrors).then(function(jsonResponse){return{id:jsonResponse.id,phone:jsonResponse.phone,name:jsonResponse.name,url:jsonResponse.url,imageUrl:jsonResponse.image_url,city:jsonResponse.location.city,state:jsonResponse.location.state,zipCode:jsonResponse.location.zip_code,country:jsonResponse.location.country,address:jsonResponse.location.address1,category:jsonResponse.categories[0].title,rating:jsonResponse.rating,reviewCount:jsonResponse.review_count};}).catch(function(error){console.log(error);return[];});}};export default Yelp;","map":{"version":3,"sources":["/Users/danielliu/Documents/ReactProjects/dish/src/util/Yelp.js"],"names":["apiKey","handleErrors","response","ok","Error","statusText","json","Yelp","search","term","location","fetch","headers","Authorization","then","jsonResponse","businesses","map","business","id","phone","name","url","imageUrl","image_url","city","state","zipCode","zip_code","country","address","address1","category","categories","title","rating","reviewCount","review_count","catch","error","console","log","searchById"],"mappings":"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","sourcesContent":["const apiKey = 'iQ8pmLEK2Wg8SRHRxvyuCf64FT9gNDJgVZruzws5XGLHpNl3X3reTymr9964LJQR1MqsX8JY0katxpNhDi2gJsPRtq7WEoJvYg2VFd-yYd7jsHFg2XuUAW-PnZrFXnYx'; //enter your own yelp api key\n\nfunction handleErrors(response) {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n    return response.json();\n}\n\nconst Yelp = {\n    search(term, location) {\n        return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}`\n        , {headers: {Authorization: `Bearer ${apiKey}`}})\n        .then(handleErrors)\n        .then(jsonResponse => {\n            if(jsonResponse.businesses) {\n                return jsonResponse.businesses.map(business => (\n                    {id: business.id,\n                        phone: business.phone,\n                        name: business.name,\n                        url: business.url,\n                        imageUrl: business.image_url,\n                        city: business.location.city,\n                        state: business.location.state,\n                        zipCode: business.location.zip_code,\n                        country: business.location.country,\n                        address: business.location.address1,\n                        category: business.categories[0].title,\n                        rating: business.rating,\n                        reviewCount: business.review_count\n                    }));\n                } else {\n                return [];\n            }\n        }).catch(error => {\n            console.log(error);\n            return [];\n        });\n\n    },\n\n    searchById(id) {\n        return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/${id}`\n        , {headers: {Authorization: `Bearer ${apiKey}`}})\n        .then(handleErrors)\n        .then(jsonResponse => {\n\n            return {id: jsonResponse.id,\n                    phone: jsonResponse.phone,\n                    name: jsonResponse.name,\n                    url: jsonResponse.url,\n                    imageUrl: jsonResponse.image_url,\n                    city: jsonResponse.location.city,\n                    state: jsonResponse.location.state,\n                    zipCode: jsonResponse.location.zip_code,\n                    country: jsonResponse.location.country,\n                    address: jsonResponse.location.address1,\n                    category: jsonResponse.categories[0].title,\n                    rating: jsonResponse.rating,\n                    reviewCount: jsonResponse.review_count};\n            } \n        ).catch(error => {\n            console.log(error);\n            return [];\n        });\n    }\n\n}\n\nexport default Yelp;\n"]},"metadata":{},"sourceType":"module"}