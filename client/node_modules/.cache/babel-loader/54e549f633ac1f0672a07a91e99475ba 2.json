{"ast":null,"code":"const apiKey = 'iQ8pmLEK2Wg8SRHRxvyuCf64FT9gNDJgVZruzws5XGLHpNl3X3reTymr9964LJQR1MqsX8JY0katxpNhDi2gJsPRtq7WEoJvYg2VFd-yYd7jsHFg2XuUAW-PnZrFXnYx'; //enter your own yelp api key\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response.json();\n}\n\nconst Yelp = {\n  search(term, location) {\n    return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}`, {\n      headers: {\n        Authorization: `Bearer ${apiKey}`\n      }\n    }).then(handleErrors).then(jsonResponse => {\n      return {\n        id: business.id,\n        phone: business.phone,\n        name: business.name,\n        url: business.url,\n        imageUrl: business.image_url,\n        city: business.location.city,\n        state: business.location.state,\n        zipCode: business.location.zip_code,\n        country: business.location.country,\n        address: business.location.address1,\n        category: business.categories[0].title,\n        rating: business.rating,\n        reviewCount: business.review_count\n      };\n    }).catch(error => {\n      console.log(error);\n      return [];\n    });\n  },\n\n  searchById(id) {\n    return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/${id}`, {\n      headers: {\n        Authorization: `Bearer ${apiKey}`\n      }\n    }).then(handleErrors).then(jsonResponse => {\n      if (jsonResponse.businesses) {\n        return jsonResponse.businesses.map(business => ({\n          id: business.id,\n          phone: business.phone,\n          name: business.name,\n          url: business.url,\n          imageUrl: business.image_url,\n          city: business.location.city,\n          state: business.location.state,\n          zipCode: business.location.zip_code,\n          country: business.location.country,\n          address: business.location.address1,\n          category: business.categories[0].title,\n          rating: business.rating,\n          reviewCount: business.review_count\n        }));\n      } else {\n        return [];\n      }\n    }).catch(error => {\n      console.log(error);\n      return [];\n    });\n  }\n\n};\nexport default Yelp;","map":{"version":3,"sources":["/Users/danielliu/Documents/ReactProjects/food-reviewer/src/util/Yelp.js"],"names":["apiKey","handleErrors","response","ok","Error","statusText","json","Yelp","search","term","location","fetch","headers","Authorization","then","jsonResponse","id","business","phone","name","url","imageUrl","image_url","city","state","zipCode","zip_code","country","address","address1","category","categories","title","rating","reviewCount","review_count","catch","error","console","log","searchById","businesses","map"],"mappings":"AAAA,MAAMA,MAAM,GAAG,kIAAf,C,CAAmJ;;AAEnJ,SAASC,YAAT,CAAsBC,QAAtB,EAAgC;AAC5B,MAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AACd,UAAMC,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACH;;AACD,SAAOH,QAAQ,CAACI,IAAT,EAAP;AACH;;AAED,MAAMC,IAAI,GAAG;AACTC,EAAAA,MAAM,CAACC,IAAD,EAAOC,QAAP,EAAiB;AACnB,WAAOC,KAAK,CAAE,sFAAqFF,IAAK,aAAYC,QAAS,EAAjH,EACV;AAACE,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAG,UAASb,MAAO;AAAjC;AAAV,KADU,CAAL,CAENc,IAFM,CAEDb,YAFC,EAGNa,IAHM,CAGDC,YAAY,IAAI;AAClB,aAAQ;AAACC,QAAAA,EAAE,EAAEC,QAAQ,CAACD,EAAd;AACAE,QAAAA,KAAK,EAAED,QAAQ,CAACC,KADhB;AAEAC,QAAAA,IAAI,EAAEF,QAAQ,CAACE,IAFf;AAGAC,QAAAA,GAAG,EAAEH,QAAQ,CAACG,GAHd;AAIAC,QAAAA,QAAQ,EAAEJ,QAAQ,CAACK,SAJnB;AAKAC,QAAAA,IAAI,EAAEN,QAAQ,CAACP,QAAT,CAAkBa,IALxB;AAMAC,QAAAA,KAAK,EAAEP,QAAQ,CAACP,QAAT,CAAkBc,KANzB;AAOAC,QAAAA,OAAO,EAAER,QAAQ,CAACP,QAAT,CAAkBgB,QAP3B;AAQAC,QAAAA,OAAO,EAAEV,QAAQ,CAACP,QAAT,CAAkBiB,OAR3B;AASAC,QAAAA,OAAO,EAAEX,QAAQ,CAACP,QAAT,CAAkBmB,QAT3B;AAUAC,QAAAA,QAAQ,EAAEb,QAAQ,CAACc,UAAT,CAAoB,CAApB,EAAuBC,KAVjC;AAWAC,QAAAA,MAAM,EAAEhB,QAAQ,CAACgB,MAXjB;AAYAC,QAAAA,WAAW,EAAEjB,QAAQ,CAACkB;AAZtB,OAAR;AAeH,KAnBM,EAmBJC,KAnBI,CAmBEC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,aAAO,EAAP;AACH,KAtBM,CAAP;AAwBH,GA1BQ;;AA4BTG,EAAAA,UAAU,CAACxB,EAAD,EAAK;AACX,WAAOL,KAAK,CAAE,0EAAyEK,EAAG,EAA9E,EACV;AAACJ,MAAAA,OAAO,EAAE;AAACC,QAAAA,aAAa,EAAG,UAASb,MAAO;AAAjC;AAAV,KADU,CAAL,CAENc,IAFM,CAEDb,YAFC,EAGNa,IAHM,CAGDC,YAAY,IAAI;AAClB,UAAGA,YAAY,CAAC0B,UAAhB,EAA4B;AACxB,eAAO1B,YAAY,CAAC0B,UAAb,CAAwBC,GAAxB,CAA4BzB,QAAQ,KACvC;AAACD,UAAAA,EAAE,EAAEC,QAAQ,CAACD,EAAd;AACIE,UAAAA,KAAK,EAAED,QAAQ,CAACC,KADpB;AAEIC,UAAAA,IAAI,EAAEF,QAAQ,CAACE,IAFnB;AAGIC,UAAAA,GAAG,EAAEH,QAAQ,CAACG,GAHlB;AAIIC,UAAAA,QAAQ,EAAEJ,QAAQ,CAACK,SAJvB;AAKIC,UAAAA,IAAI,EAAEN,QAAQ,CAACP,QAAT,CAAkBa,IAL5B;AAMIC,UAAAA,KAAK,EAAEP,QAAQ,CAACP,QAAT,CAAkBc,KAN7B;AAOIC,UAAAA,OAAO,EAAER,QAAQ,CAACP,QAAT,CAAkBgB,QAP/B;AAQIC,UAAAA,OAAO,EAAEV,QAAQ,CAACP,QAAT,CAAkBiB,OAR/B;AASIC,UAAAA,OAAO,EAAEX,QAAQ,CAACP,QAAT,CAAkBmB,QAT/B;AAUIC,UAAAA,QAAQ,EAAEb,QAAQ,CAACc,UAAT,CAAoB,CAApB,EAAuBC,KAVrC;AAWIC,UAAAA,MAAM,EAAEhB,QAAQ,CAACgB,MAXrB;AAYIC,UAAAA,WAAW,EAAEjB,QAAQ,CAACkB;AAZ1B,SADuC,CAApC,CAAP;AAeC,OAhBL,MAgBW;AACP,eAAO,EAAP;AACH;AACJ,KAvBM,EAuBJC,KAvBI,CAuBEC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,aAAO,EAAP;AACH,KA1BM,CAAP;AA2BH;;AAxDQ,CAAb;AA4DA,eAAe9B,IAAf","sourcesContent":["const apiKey = 'iQ8pmLEK2Wg8SRHRxvyuCf64FT9gNDJgVZruzws5XGLHpNl3X3reTymr9964LJQR1MqsX8JY0katxpNhDi2gJsPRtq7WEoJvYg2VFd-yYd7jsHFg2XuUAW-PnZrFXnYx'; //enter your own yelp api key\n\nfunction handleErrors(response) {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n    return response.json();\n}\n\nconst Yelp = {\n    search(term, location) {\n        return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}`\n        , {headers: {Authorization: `Bearer ${apiKey}`}})\n        .then(handleErrors)\n        .then(jsonResponse => {\n            return  {id: business.id,\n                    phone: business.phone,\n                    name: business.name,\n                    url: business.url,\n                    imageUrl: business.image_url,\n                    city: business.location.city,\n                    state: business.location.state,\n                    zipCode: business.location.zip_code,\n                    country: business.location.country,\n                    address: business.location.address1,\n                    category: business.categories[0].title,\n                    rating: business.rating,\n                    reviewCount: business.review_count\n                };\n                \n        }).catch(error => {\n            console.log(error);\n            return [];\n        });\n\n    },\n\n    searchById(id) {\n        return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/${id}`\n        , {headers: {Authorization: `Bearer ${apiKey}`}})\n        .then(handleErrors)\n        .then(jsonResponse => {\n            if(jsonResponse.businesses) {\n                return jsonResponse.businesses.map(business => (\n                    {id: business.id,\n                        phone: business.phone,\n                        name: business.name,\n                        url: business.url,\n                        imageUrl: business.image_url,\n                        city: business.location.city,\n                        state: business.location.state,\n                        zipCode: business.location.zip_code,\n                        country: business.location.country,\n                        address: business.location.address1,\n                        category: business.categories[0].title,\n                        rating: business.rating,\n                        reviewCount: business.review_count\n                    }));\n                } else {\n                return [];\n            }\n        }).catch(error => {\n            console.log(error);\n            return [];\n        });\n    }\n\n}\n\nexport default Yelp;\n"]},"metadata":{},"sourceType":"module"}